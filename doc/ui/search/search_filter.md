---
title: 默认搜索过滤器控件
author:zozoh
---

# 如何创建

```
new SearchFilterUI({
    /*
    如果 filter 内部被输入了普通字符串，那么将在对象的哪几个字段里搜索
    默认，是 "nm" 字段。如果你想根据不同的值，对应不同的字段名，
    你可以给一个判断的列表
    
    [F(str):key, {regex:/../, key:"xxx"}, "mobile:^[0-9]+$", "nm"]
    
    .................................
    F(str):key
    是一个函数，控件会把字符串传入，你返回这个字符串应该对应什么 key
    返回任何可以变成 false 的值，则表示你不接受这个字符串
    .................................    
    {regex:/../, key:"xxx"}
    这个没啥好说的，控件会把字符串用正则表达式匹配，成功了，就返回你给定的 Key
    当然，你的 regex 也可以是字符串，只要能被解析成正则表达式就好
    .................................
    "mobile:^[0-9]+$"
    这种是个简写的形式，如果包含了 :^ 字符，那么这个字符串会被拆分，前半部分是 key
    后半部分是个正则表达式
    .................................
    "nm"
    普通字符串，直接被当做 key    
    */
    keyField : "nm",
    
    // 是否显示搜索关键字输入框，默认 true
    // ！这个字段与 tabs 不能同时为否，否则会抛错
    keyword : true,
    
    // 提供可视化表单，作为输入框的辅助设置
    // 一旦声明这个选项，过滤器输入框右侧将自动出现展开输入表单的按钮
    // 无论怎样，按下箭头表示显示，按上箭头或者是拍回车就表示隐藏
    form : {..}
    
    // 如果输入框被聚焦，是否自动显示可视化表单
    // 此选项必须在 form 段被定义后才有意义
    // 默认为 true
    autoOpen : true,
    
    // 搜索条左侧可以有一排可选标签
    // 每个标签都带有一组条件
    tabs : [{
        icon    : "<icon>"   // 标签的 ICON
        text    : "i18n:xxx" // 标签的文字
        color   : "#000"     // 标签前景色，默认跟随主题
        bgcolor : "#0F0"     // 标签背景色，默认跟随主题
        value   : {..}       // 一个搜索条件
        checked : true       // 是否选中，如果单选，最后一个会生效
    }]
    
    // 标签是否用下拉列表显示，默认为 false
    // 如果你设置了较多的 tabs 可以设置为 true 从而为 keyword 输入框
    // 节省空间。
    // 当然如果你没有 keywords 输入框，你大可将其设置成 false
    // 总之看你高兴咯
    tabsAsDrop : false,
    
    // 标签是 "AND" 的关系还是 "OR" 的关系
    // 如果是 "OR"，那么如果多余一个选项，则会用 "%or" 来组合各个选项
    // 默认 "AND" 标识单选
    tabsMode : "AND",
    
    // 标签最少要维持几个高亮
    // 默认 1
    tabsKeepAtLeast : 1,
        
    /*
    如果控件被 setData，怎么处理设置来的数据:
    - fixed : 作为基础，返回的时候总是要加到结果中
    - tabs  : 高亮对应的标签
    默认 fixed
    */
    dataMode : "fixed"
}).render();
```


