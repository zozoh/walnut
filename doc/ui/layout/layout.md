---
title: 布局控件
author:zozoh
---

----------------------------------
# 控件概述

本控件设计是为了让复杂界面制作进一步减低工作量，其设计目标为：

1. 80% 以上的复杂界面都可以使用本控件简化布局方面的工作
2. 可以与其他的界面控件轻松集成
3. 为所有子控件提供消息Bus，以便协同交互行为
4. 提供统一的面板与布局resize等方法

----------------------------------
# 如何创建实例

```js
new LayoutUI({
    layout : "ui/xxx/xxx.xml",
    //......................................
    // 优先声明在 XML 里的子控件
    setup : {
        // 在 xml 里声明的 <row|col|tab|box name=".."> 属性
        "$gasketName" : {
            uiType : 'ui/xx/xx',
            uiConf : {/*..*/}
        }
    },
    //......................................
    // 事件路由表
    // 总线的事件，如果在这个映射表里，会触发对应的一个或多个事件
    //  键 'all' 表示全部事件
    //  值 '..' 表示路由到父 parent.bus()
    eventRouter : {
        'obj:open' : ['show:comp'],
        'do:xxx'   ：'show:xxx',
        'all'      : '..'
    }
    // 存储本地的布局信息的键，如果不声明，则不保存本地状态
    localKey : "xxxx"
}).render();
```

- 关于 layout，参见 layout_xml.md

----------------------------------
# 什么是区域 `area`

可以被称为区域的是

- `col/row`
- `tabs`
- `box`

区域可以被 `show/hide`

----------------------------------
# 控件方法

## 触发消息:fireBus

```js
ui.fireBus('xx:xx", [args]);
```

----------------------------------
## 触发消息:listenBus

```js
ui.listenBus('xx:xx", handler);
```

----------------------------------
## 显示区域:showArea

```js
ui.showArea('xx");
```

- 只有可以隐藏的区域，譬如 `box`，或者收起状态的 `col|row` 才会生效

----------------------------------
## 隐藏区域:hideArea

```js
ui.hideArea('xx");
```

- 只有可以隐藏的区域，譬如 `box`，或者展开状态的 `col|row` 才会生效

----------------------------------
## 显示/隐藏区域:toggleArea

```js
ui.toggleArea('xx");
```

- 只有可以显示/隐藏的区域，譬如 `box`，或者展开/收起状态的 `col|row` 才会生效


