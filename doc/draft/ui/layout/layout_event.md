---
title: 布局控件·事件
author:zozoh
---

----------------------------------
# 事件·触发事件

本控件会根据行为的不同，触发下列事件：

```bash
area:show      # 显示某个 area (包括box/tab) 完毕（如果有动画，也在动画加载完毕后）
area:ready     # 某个area内部全部控件加载完毕
```

如果一个 `box/tab` 显示了，其事件调用顺序应该是

```bash
# 首次布局以及全部子控件准备完毕后会调用
layout:ready

# 每个区域显示时都会调用
area:show
# 如果有的话，就异步加载所有的控件
# 所有加载完毕以后会调用
    |-- area:ready
```

----------------------------------
# 事件·对象

任何一个布局事件，其对象如下:

```js
{
    type : "box:show",  // 事件的类型

    // 下面是区域事件才有的字段
    UI    : UI,          // 事件发起的 UI 实例
    area  : jQuery,      // 事件对应的区域的DOM
    key   : "chute",     // 事件对应的区域的 key
    data  : {}||[],      // 事件触发者传入的事件数据
    
    // 事件发起 UI 所在区域还有哪些 UI
    // 如果是 area:ready 事件，那么会有下面的段表示本区域下所有的
    // 如果过是 layout:ready 那么将是全部的子控件
    // UI 加载实例映射表
    areaUIs : {
        "gasA" : UI,
        "gasB" : UI,
    }
}
```

----------------------------------
# 事件·监听事件

本控件作为 bus 也监听发向自己的事件，

```bash
# 显示区域
show:xxx       # 这个 xxx 则是区域的名称
# 相当于调用 this.showArea("xxx"); 

# 隐藏区域
hide:xxx       # 这个 xxx 则是区域的名称
# 相当于调用 this.hideArea("xxx");
```