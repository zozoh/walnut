# 过滤器简介

`@zip` 将上下文对象打包到一个压缩包里

# 用法

```bash
o @zip
  [output.zip]       # 输出文件路径，默认采用 ./${base}.${as}
  [-meta '{..}']     # 指定输入文件的元数据
  [-base ~/xxx]      # 指定一个父节点，默认的是自动寻找所有文件的公共父节点
                     # 如果指定了，那么所有不在其内的上下文对象，将被忽略
  [-as zip]          # 压缩包格式，默认 zip
  [-m {...}]         # 一个 AutoMatch 的过滤条件
  [-fnm '${xx}-${xx}']       # 文件名模板，默认采用原始文件名
  [-mapping ~/path/to.json]  # 元数据映射规则，默认采用原始元数据
                             # 如果为空，则尝试从标准输入读取
  [-only]                    # 如果指定了映射，则表示是否只保留映射字段
  [-quiet]           # 静默输出，否则要输出目标文件的元数据
  [-hide]            # 包括隐藏文件
  [-json]            # 输出目标文件元数据
  [-cqn]             # -json 模式下输出的 JSON 格式化方式
```

# 示例

```bash
$demo:> o ~/mydir @query @zip 
{
  id: "xxxx",
  ...
}
```

