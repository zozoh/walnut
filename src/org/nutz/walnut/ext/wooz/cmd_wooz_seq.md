# 命令简介 

`wooz seq` 为某赛项所有选手生成赛号，所有赛号的字母都是大写

用法
=======

```bash
wooz seq 
    [qs..l4]          # 主办方或者仙踪域赛事 ID
    [100KM]           # 赛项名称
    ['..']            # 号码模板，见后面号码模板的描述
    [-start 1]        # 开始的赛号，默认 1
    [-step 1]         # 赛号的步长，默认 1
    [-sort ct:1]      # 记录排序,默认按报名时间排序
    [-sex "m|f"]      # 指定性别，如果不指定，则男女选手统一拍号
    [-vars '{..}']    # 可附加的变量，会填充在号码模板对应的占位符中
    [-ug A]           # 表示按照赛组分配，赛号后面会增加 ABCD 的编号。
                      # 这里的  `A` 表示组员编号形式，现在支持 A 模式
                      # 看看以后要不要增加别的模式吧
    [-write]          # 表示将赛号写入对应选手字段，默认是展示，即一行输出一个赛号和选手名
                      # 如果是写入，则会输出一个 JSON 对象作为摘要
                      # {updated:5, all:5}
```

**号码模板**

命令会根据 `赛事 + 赛项 + 性别` 这三个条件选择一组选手，一次性分配赛号。每个选手的元数据作为模板的上下文。
除此以外，会增加下面的上下文变量：

- `_N` : 表示当前的号码，模板可以用 `@{_N<int:%05d>}` 来控制号码显示位数
- `_S` ： 如果是赛组模式，那么号码 `_N` 实际上是赛组的编号，为了区别选手，会在上下文中添加 `_S` 表示对应组内选手编号
- `其他变量`，则来自 `-vars` 参数

号码模板的例子:

```bash
# 个人赛，号码为 M001 或者 F001, 其中 M/F 表示性别
@{sex}@{_N<int:%05d>}

# 团体赛，号码为 M001A 或者 F001B, 其中 M/F 表示性别
# A/B 表示选手赛组内编号
@{_N<int:%05d>}@{_S}
```

示例
=======

```bash
# 为团体赛 80KM 赛项生成号码，并打印出来 （不写入）
demo:~> wooz seq qad0lj2824idar9v63k8v0hgj0 80KM 'G@{_N<int:%05d>}@{_S}'
G00001A : xiaobai
G00001B : xiaohei
G00001C : amily
...

# 为个人体赛 80KM 赛项生成号码，并打印出来 （不写入）
demo:~> wooz seq qad0lj2824idar9v63k8v0hgj0 80KM '@{sex}@{_N<int:%05d>}'
M00001 : xiaobai
M00002 : xiaohei
F00003 : amily
...

# 为个人体赛 80KM 赛项所有女性生成号码，并打印出来 （不写入）
demo:~> wooz seq qad0lj2824idar9v63k8v0hgj0 80KM '@{sex}@{_N<int:%05d>}' -sex f
F00001 : amily
F00002 : emma
F00003 : jony
...
```
