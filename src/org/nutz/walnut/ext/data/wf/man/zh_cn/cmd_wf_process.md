# 过滤器简介

`@process` 执行一步工作流。本处理器会根据工作流的设置，以及上下文变量，自动判断下一步的节点。
它首先会根据上下文中的`CURRENT_NAME`变量确认工作流的当前节点。

如果未声明这个变量，或者未找到对应节点，会自动寻找第一个开始节点。
如果你并不想自动寻找开始节点，通过 `-wary` 参数，可以在这种情况下直接退出工作流的处理。
在自动寻找到开始节点后，我们有两个选择：

1. 将这个节点作为`CURRENT_NAME`, 因此不会执行它，而是像平常以将尝试边
2. 将这个节点作为`NEXT_NAME`，因此会执行它

上面两个选项，可以通过 `-auto current|next` 来指定，默认为 `-auto next`。
当然，如果你指定`-wary`模式，则`-auto`参数自然是无效的。

如果上下文的`CURRENT_NAME`是一个有效节点，那么本处理器会尝试节点的每个边，
对于第一个可以通过的边指向的节点，设置为上下文中的`NEXT_NAME`变量。
当然，这期间，如果边，或者目标节点声明了动作项，也会被依次执行。

# 用法

```bash
wf ... @process 
  [-test]      # 测试模式，这个模式下，将不会执行任何节点或者边的动作
               # 仅仅是修改上下文中的变量
  [-wary]      # 谨慎模式，在这个模式下，当上下文没有合法CURRENT_NAME时，
               # 将直接退出工作流执行
  [-auto next] # 自动寻找到的开始节点，是当作 NEXT_NAME 还是 CURRENT_NAME
               #  - next : 当作 NEXT_NAME, 执行节点，不尝试边，除非节点明确要尝试边【默认】
               #  - current : 当作 CURRENT_NAME，不执行节点，但尝试边
  [-redo]      # 重入模式，这个模式仅仅是执行当前节点，并不尝试边,
               # 这个模式下必须明确指定工作流当前节点，否则什么也不做
```

# 示例

```bash
$demo> wf ~/demo.json @var -f ~/abc.json @process
```
