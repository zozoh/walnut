# 命令简介 

`ti coms` 用来获取当前域所有可被编辑的控件的定义信息。

> 所谓*可编辑*，即，控件目录有 `_hmaker.json` 定义文件的全局控件

它会遍历给定的控件库路径（默认为 `/rs/ti/com`），发现可编辑控件，
就加到结果里。它的输出结果是一个 JSON 数组，格式见下节。

-------------------------------------------------------------
# 命令输出结果

```js
// 命令会查看每个控件的 _com.json 和 _hmaker.json 生成如下格式
[{
  path : "ti/list",    // 自动计算出的控件相对路径
  //...............................................
  // 来自 _com.json
  name: "ti-list",      // 控件全库唯一名称
  //...............................................
  // 来自 _hmaker.json
  //...............................................
  icon: "im-data",          // 控件图标
  title: "i18n:com-list",   // 控件显示名 
  //...............................................
  manual   : true,    // 是否有开发手册
  tutorial : true,    // 是否有使用说明
  video    : true,    // 是否有视频教程
  //...............................................
  // 适用屏幕，有效值为:
  //  - desktop: 桌面
  //  - tablet : 平板
  //  - phone  : 手机
  screen: ["desktop", "tablet"]
  //...............................................
  // 采用的编辑控件
  editComType : "ti-form"
  // 编辑控件的配置信息
  editComConf : {
    /*...*/
  }
}]
```

-------------------------------------------------------------
# 用法
 
```bash
ti coms
  [/path/to/coms]     # [选] 控件库路径（默认为 /rs/ti/com）
  [-f]                # [选] 无视缓存，强行再搜索一遍
  [-cache /path/to]   # [选] 指定缓存文件路径
  [-cqn]              # [选] 指定JSON输出格式
```
> 默认的，命令会将结果缓存在 `/etc/ti/coms/{PathName}.json`,
> 例如默认控件库的缓存路径为 `/etc/ti/coms/rs-ti-com.json`

-------------------------------------------------------------
# 示例

```bash
# 强制输出默认组件库
demo:~$ ti coms -f
```