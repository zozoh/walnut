# 命令简介 

`ti www` 用来发布一个站点。

-------------------------------------------------------------
# 用法
 
```bash
ti www 
  [/path/to/src]      # 站点的工程目录
  [/path/to/dist]     # 站点的输出目录
  [-wnml]             # 是否预先渲染 index.wnml
  [-vars {..}]        #  -wnml 模式下，输入变量集合
  [-ivar ~/xx/xx]     #  -wnml 模式下，输入变量集文件
```

## wnml 变量集合

如果开启了 `-wnml`选项，命令需要读取一个变量集合，以便转换下面两个文件:

- `index.wnml`
- `site-state.json`

有三种方式可以获得变量集，它们依次如下

   方式            | 说明                                                  | 优先级
--------|--------------------|-----------
`-vars` | 直接声明一个 JSON 变量集合 | **最优先**
`-ivar` | 从一个 JSON文件对象读取变量 | **次优先**
`~PiPe` | 从管道或者标准输入中读取         | **保底**

> 下面是这个变量集的格式例子：

```js
{
  // 下面声明了几个关键路径，所有路径必须以 '/'结尾
  pageBase : "/",          // 网站的页面资源基础路径
  apiBase  : "/api/",      // HTTP接口的基础路径
  cdnBase  : null,         // CDN 服务器的基础路径
  rs       : "/gu/rs/",    // 静态资源基础路径
  
  // 预加载资源列表，没有的话，请保持空数组 []
  preloads : ["@dist:ti-more-all.js"]
}
```

-------------------------------------------------------------
# 示例

```bash
# 将工程目录发布到指定目录
demo:~$ ti www ~/site/workspace ~/www

# 将工程目录发布到指定目录并预先渲染 wnml
demo:~$ ti www ~/site/workspace ~/www -wnml
```